<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPSherlock - Results for {{ query }}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="IPSherlock results for {{ query }} - Comprehensive information about IP addresses, domains, WHOIS data, DNS records, and more.">
    <meta name="keywords" content="IP lookup, domain lookup, WHOIS, DNS records, IP geolocation, network tools, IP investigation, {{ query }}">
    <meta name="author" content="IPSherlock">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{{ request.url }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='img/0.png') }}" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Leaflet Map CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
            

</head>
<body>
    <!-- Adport ad placement -->
    <div class="ad-container">
        <script type="text/javascript" src="https://cdn.diclotrans.com/sdk/v1/50164/e1790048abe8f8eceb0a328a19a1b81133073455/lib.js"></script>
    </div>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="{{ url_for('static', filename='img/0.png') }}" alt="IPSherlock Logo" class="logo">
                <h1><a href="{{ url_for('index') }}" class="title-link">IPSherlock</a></h1>
            </div>
            <p>The Detective for IP Addresses & Domains</p>
        </header>
        
        <main class="results-main">
            <div class="search-box mini">
                <form action="{{ url_for('lookup') }}" method="post" id="lookup-form">
                    <div class="input-group">
                        <input type="text" name="query" id="query" placeholder="Enter IP address or hostname" value="{{ query }}" required>
                        <button type="submit" id="lookup-button">üîç Lookup</button>
                    </div>
                    <div class="loading-indicator" id="loading-indicator">
                        <div class="spinner"></div>
                        <p>Looking up information...</p>
                    </div>
                </form>
            </div>
            
            <div class="results-container">
                <h2>Investigation Results: {{ query }} {% if not 'error' in data %}<a href="{{ url_for('export_csv', query_type=query_type, query=query) }}" class="copy-btn" title="Download CSV"><i class="fas fa-download"></i></a>{% endif %}</h2>
                
                {% if 'error' in data %}
                    <div class="error-message">
                        <p>{{ data.error }}</p>
                    </div>
                {% else %}
                    {% if query_type == 'ip' %}
                        <div class="result-section">
                            <h3>IP Information</h3>
                            {% if data.geo_error is defined %}
                                <div class="warning-message">
                                    <p>{{ data.geo_error }}</p>
                                    <p>Showing basic information only.</p>
                                </div>
                            {% elif data.geo_note is defined %}
                                <div class="info-message">
                                    <p>{{ data.geo_note }}</p>
                                </div>
                            {% endif %}
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="label">IP Address:</span>
                                    <span class="value">{{ data.ip }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">IP Version:</span>
                                    <span class="value">{{ data.ip_version }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Hostname:</span>
                                    <span class="value">{{ data.hostname }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">ASN:</span>
                                    <span class="value">{{ data.asn }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">ASN Description:</span>
                                    <span class="value">{{ data.asn_description }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Network:</span>
                                    <span class="value">{{ data.network }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Country:</span>
                                    <span class="value">{{ data.country }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Region:</span>
                                    <span class="value">{{ data.region }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">City:</span>
                                    <span class="value">{{ data.city }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Postal Code:</span>
                                    <span class="value">{{ data.postal }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Latitude:</span>
                                    <span class="value">{{ data.latitude }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Longitude:</span>
                                    <span class="value">{{ data.longitude }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Timezone:</span>
                                    <span class="value">{{ data.timezone }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Organization:</span>
                                    <span class="value">{{ data.org }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">ISP:</span>
                                    <span class="value">{{ data.isp }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Location Map Section -->
                        {% if data.latitude is defined and data.longitude is defined and data.latitude is not none and data.longitude is not none %}
                        <div class="result-section">
                            <h3>Location Map</h3>
                            <div id="location-map" style="height: 300px; width: 100%; border-radius: 8px; margin-top: 15px; border: 2px solid #2c3e50;"></div>
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    // Initialize the map
                                    var map = L.map('location-map').setView([{{ data.latitude }}, {{ data.longitude }}], 10);
                                    
                                    // Add the OpenStreetMap tiles
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        "attribution": '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                                        "maxZoom": 18
                                    }).addTo(map);
                                    
                                    // Add a marker with location information
                                    var locationInfo = "";
                                    {% if data.city != "N/A" %}
                                        locationInfo = locationInfo + "{{ data.city }}";
                                    {% endif %}
                                    
                                    {% if data.region != "N/A" %}
                                        {% if data.city != "N/A" %}
                                            locationInfo = locationInfo + ", ";
                                        {% endif %}
                                        locationInfo = locationInfo + "{{ data.region }}";
                                    {% endif %}
                                    
                                    {% if data.country != "N/A" %}
                                        {% if data.city != "N/A" or data.region != "N/A" %}
                                            locationInfo = locationInfo + ", ";
                                        {% endif %}
                                        locationInfo = locationInfo + "{{ data.country }}";
                                    {% endif %}
                                    
                                    if (locationInfo === "") {
                                        locationInfo = "Location: {{ data.latitude }}, {{ data.longitude }}";
                                    }
                                    
                                    // Create a custom detective marker icon
                                    var detectiveIcon = L.divIcon({
                                        html: '<i class="fas fa-search" style="font-size: 24px; color: #2c3e50;"></i>',
                                        className: 'detective-marker',
                                        iconSize: [30, 30],
                                        iconAnchor: [15, 15]
                                    });
                                    
                                    // Add marker with popup
                                    L.marker([{{ data.latitude }}, {{ data.longitude }}], {icon: detectiveIcon})
                                        .addTo(map)
                                        .bindPopup("<strong>IP: {{ data.ip }}</strong><br>" + locationInfo)
                                        .openPopup();
                                });
                            </script>
                        </div>
                        {% endif %}
                        
                        <div class="result-section">
                            <h3>RDAP Data</h3>
                            <div class="collapsible-content">
                                <pre>{{ data.rdap_data | tojson(indent=2) }}</pre>
                            </div>
                        </div>
                        
                        {% if data.os_tools %}
                        <div class="result-section">
                            <h3>OS-Level Network Information</h3>
                            {% if data.os_tools.nslookup %}
                            <div class="os-tool-section">
                                <h4>nslookup Results</h4>
                                <div class="os-tool-output">
                                    <pre>{{ data.os_tools.nslookup }}</pre>
                                </div>
                            </div>
                            {% endif %}
                            
                            {% if data.os_tools.traceroute %}
                            <div class="os-tool-section">
                                <h4>Traceroute Results</h4>
                                <div class="os-tool-output">
                                    <pre>{{ data.os_tools.traceroute }}</pre>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}
                    {% elif query_type == 'hostname' %}
                        <div class="result-section">
                            <h3>Hostname Information</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="label">Hostname:</span>
                                    <span class="value">{{ data.hostname }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="result-section">
                            <h3>IP Addresses</h3>
                            {% if data.ip_resolution_error is defined %}
                                <div class="warning-message">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <span>{{ data.ip_resolution_error }}</span>
                                </div>
                            {% else %}
                                <div class="info-grid single-column">
                                    {% for ip in data.ip_addresses %}
                                        <div class="info-item">
                                            <span class="value">{{ ip }}</span>
                                        </div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <!-- Location Map Section for Domain -->
                        {% if data.ip_info is defined and data.ip_info.latitude is defined and data.ip_info.longitude is defined and data.ip_info.latitude is not none and data.ip_info.longitude is not none %}
                        <div class="result-section">
                            <h3>Server Location Map</h3>
                            <div id="location-map" style="height: 300px; width: 100%; border-radius: 8px; margin-top: 15px; border: 2px solid #2c3e50;"></div>
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    // Initialize the map
                                    var map = L.map('location-map').setView([{{ data.ip_info.latitude }}, {{ data.ip_info.longitude }}], 10);
                                    
                                    // Add the OpenStreetMap tiles
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        "attribution": '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                                        "maxZoom": 18
                                    }).addTo(map);
                                    
                                    // Add a marker with location information
                                    var locationInfo = "";
                                    {% if data.ip_info.city != "N/A" %}
                                        locationInfo += "{{ data.ip_info.city }}";
                                    {% endif %}
                                    
                                    {% if data.ip_info.region != "N/A" %}
                                        {% if data.ip_info.city != "N/A" %}
                                            locationInfo += ", ";
                                        {% endif %}
                                        locationInfo += "{{ data.ip_info.region }}";
                                    {% endif %}
                                    
                                    {% if data.ip_info.country != "N/A" %}
                                        {% if data.ip_info.city != "N/A" or data.ip_info.region != "N/A" %}
                                            locationInfo += ", ";
                                        {% endif %}
                                        locationInfo += "{{ data.ip_info.country }}";
                                    {% endif %}
                                    
                                    if (locationInfo === "") {
                                        locationInfo = "Location: {{ data.ip_info.latitude }}, {{ data.ip_info.longitude }}";
                                    }
                                    
                                    // Create a custom detective marker icon
                                    var detectiveIcon = L.divIcon({
                                        html: '<i class="fas fa-search" style="font-size: 24px; color: #2c3e50;"></i>',
                                        className: 'detective-marker',
                                        iconSize: [30, 30],
                                        iconAnchor: [15, 15]
                                    });
                                    
                                    // Add marker with popup
                                    L.marker([{{ data.ip_info.latitude }}, {{ data.ip_info.longitude }}], {icon: detectiveIcon})
                                        .addTo(map)
                                        .bindPopup("<strong>Domain: {{ data.hostname }}</strong><br>" + locationInfo)
                                        .openPopup();
                                });
                            </script>
                        </div>
                        {% endif %}
                        
                        <!-- Domain Owner Information Section -->
                        <div class="result-section">
                            <h3>Domain Owner Information</h3>
                            <div class="info-grid">
                                {% if data.whois_info.person is defined and data.whois_info.person %}
                                    {% if data.whois_info.person is string %}
                                        <div class="info-item">
                                            <span class="label">Person:</span>
                                            <span class="value">{{ data.whois_info.person }}</span>
                                        </div>
                                    {% else %}
                                        {% for person in data.whois_info.person %}
                                        <div class="info-item">
                                            <span class="label">Person:</span>
                                            <span class="value">{{ person }}</span>
                                        </div>
                                        {% endfor %}
                                    {% endif %}
                                {% endif %}
                                
                                {% if data.whois_info.registrant_name is defined and data.whois_info.registrant_name %}
                                    <div class="info-item">
                                        <span class="label">Registrant:</span>
                                        <span class="value">{{ data.whois_info.registrant_name }}</span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.registrant_id is defined and data.whois_info.registrant_id %}
                                    <div class="info-item">
                                        <span class="label">Registrant ID:</span>
                                        <span class="value">{{ data.whois_info.registrant_id }}</span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.owner_c is defined and data.whois_info.owner_c %}
                                    <div class="info-item">
                                        <span class="label">Owner Contact:</span>
                                        <span class="value">{{ data.whois_info.owner_c }}</span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.tech_c is defined and data.whois_info.tech_c %}
                                    <div class="info-item">
                                        <span class="label">Tech Contact:</span>
                                        <span class="value">{{ data.whois_info.tech_c }}</span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.admin_c is defined and data.whois_info.admin_c %}
                                    <div class="info-item">
                                        <span class="label">Admin Contact:</span>
                                        <span class="value">{{ data.whois_info.admin_c }}</span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.emails is defined and data.whois_info.emails %}
                                    {% if data.whois_info.emails is string %}
                                        <div class="info-item">
                                            <span class="label">Email:</span>
                                            <span class="value">{{ data.whois_info.emails }}</span>
                                        </div>
                                    {% else %}
                                        {% for email in data.whois_info.emails %}
                                        <div class="info-item">
                                            <span class="label">Email:</span>
                                            <span class="value">{{ email }}</span>
                                        </div>
                                        {% endfor %}
                                    {% endif %}
                                {% endif %}
                                
                                {% if data.whois_info.email is defined and data.whois_info.email %}
                                    {% if data.whois_info.email is string %}
                                        <div class="info-item">
                                            <span class="label">Email:</span>
                                            <span class="value">{{ data.whois_info.email }}</span>
                                        </div>
                                    {% else %}
                                        {% for email in data.whois_info.email %}
                                        <div class="info-item">
                                            <span class="label">Email:</span>
                                            <span class="value">{{ email }}</span>
                                        </div>
                                        {% endfor %}
                                    {% endif %}
                                {% endif %}
                                
                                <!-- Domain Registration Dates -->
                                {% if data.whois_info.creation_date is defined and data.whois_info.creation_date %}
                                    <div class="info-item">
                                        <span class="label">Creation Date:</span>
                                        <span class="value">
                                            {% if data.whois_info.creation_date is string %}
                                                {{ data.whois_info.creation_date }}
                                            {% else %}
                                                {{ data.whois_info.creation_date[0] }}
                                            {% endif %}
                                        </span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.expiration_date is defined and data.whois_info.expiration_date %}
                                    <div class="info-item">
                                        <span class="label">Expiration Date:</span>
                                        <span class="value">
                                            {% if data.whois_info.expiration_date is string %}
                                                {{ data.whois_info.expiration_date }}
                                            {% else %}
                                                {{ data.whois_info.expiration_date[0] }}
                                            {% endif %}
                                        </span>
                                    </div>
                                {% endif %}
                                
                                {% if data.whois_info.updated_date is defined and data.whois_info.updated_date %}
                                    <div class="info-item">
                                        <span class="label">Last Updated:</span>
                                        <span class="value">
                                            {% if data.whois_info.updated_date is string %}
                                                {{ data.whois_info.updated_date }}
                                            {% else %}
                                                {{ data.whois_info.updated_date[0] }}
                                            {% endif %}
                                        </span>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="result-section">
                            <h3>DNS Records</h3>
                            <div class="dns-records-container">
                                <div class="dns-record-group">
                                    <h4>A Records</h4>
                                    {% if data.a_records_error is defined %}
                                        <div class="warning-message">
                                            <i class="fas fa-exclamation-triangle"></i>
                                            <span>{{ data.a_records_error }}</span>
                                        </div>
                                    {% elif data.a_records|length > 0 %}
                                        <div class="info-grid single-column">
                                            {% for record in data.a_records %}
                                                <div class="info-item">
                                                    <span class="value">{{ record }}</span>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        <div class="warning-message">
                                            <i class="fas fa-info-circle"></i>
                                            <span>No A records found for this domain.</span>
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <div class="dns-record-group">
                                    <h4>MX Records</h4>
                                    {% if data.mx_records_error is defined %}
                                        <div class="warning-message">
                                            <i class="fas fa-exclamation-triangle"></i>
                                            <span>{{ data.mx_records_error }}</span>
                                        </div>
                                    {% elif data.mx_records|length > 0 %}
                                        <div class="info-grid single-column">
                                            {% for record in data.mx_records %}
                                                <div class="info-item">
                                                    <span class="value">{{ record }}</span>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        <div class="warning-message">
                                            <i class="fas fa-info-circle"></i>
                                            <span>No mail servers (MX records) configured for this domain.</span>
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <div class="dns-record-group">
                                    <h4>NS Records</h4>
                                    <div class="info-grid single-column">
                                        {% for record in data.ns_records %}
                                            <div class="info-item">
                                                <span class="value">{{ record }}</span>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                

                            </div>
                        </div>
                        
                        {% if data.ip_info and not data.ip_info.get('error') %}
                        <div class="result-section">
                            <h3>Primary IP Information</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="label">IP Address:</span>
                                    <span class="value">{{ data.ip_info.ip }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">ASN:</span>
                                    <span class="value">{{ data.ip_info.asn }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">ASN Description:</span>
                                    <span class="value">{{ data.ip_info.asn_description }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Network:</span>
                                    <span class="value">{{ data.ip_info.network }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Country:</span>
                                    <span class="value">{{ data.ip_info.country }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Region:</span>
                                    <span class="value">{{ data.ip_info.region }}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">City:</span>
                                    <span class="value">{{ data.ip_info.city }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- TXT Records Section -->
                        <div class="result-section">
                            <h3>TXT Records</h3>
                            <div class="info-grid multi-column">
                                {% for record in data.txt_records %}
                                    <div class="info-item compact txt-record-item">
                                        <span class="value">{{ record }}</span>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        
                        <div class="result-section">
                            <h3>OS-Level DNS Information</h3>
                            <div class="info-grid">
                                {% if data.os_tools.nslookup %}
                                <div class="os-tool-output full-width">
                                    <pre>{{ data.os_tools.nslookup }}</pre>
                                </div>
                                {% endif %}
                                
                                {% if data.os_tools.host %}
                                <div class="os-tool-output full-width">
                                    <pre>{{ data.os_tools.host }}</pre>
                                </div>
                                {% endif %}
                                
                                {% if data.os_tools.dig %}
                                <div class="os-tool-output full-width">
                                    <pre>{{ data.os_tools.dig }}</pre>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        {% endif %}
                        
                        <!-- Full WHOIS Record -->
                        <div class="result-section">
                            <h3>Complete WHOIS Record <button class="copy-btn" title="Copy to clipboard" onclick="copyToClipboard()"><i class="fas fa-copy"></i></button> <a href="{{ url_for('export_csv', query_type=query_type, query=query) }}" class="copy-btn" title="Download CSV"><i class="fas fa-download"></i></a></h3>
                            <div class="collapsible-content">
                                <pre>{{ data.whois_info | tojson(indent=2) }}</pre>
                            </div>
                        </div>
                    {% endif %}
                {% endif %}
                
                <div class="back-link">
                    <a href="{{ url_for('index') }}">New Investigation</a>
                </div>
                
                <!-- Educational Content for Results Page -->
                {% if not 'error' in data %}
                <div class="results-content-section">
                    <h3>Understanding Your Results</h3>
                    
                    {% if query_type == 'ip' %}
                    <div class="results-content-item">
                        <h4>About IP Information</h4>
                        <p>The IP address you searched ({{ query }}) has revealed details about its network allocation, geographical location, and associated organizations. Here's what this information means:</p>
                        <ul>
                            <li><strong>ASN (Autonomous System Number)</strong>: A unique identifier assigned to a network or group of networks managed by a single organization.</li>
                            <li><strong>Network</strong>: The IP range that includes your searched address, typically shown in CIDR notation.</li>
                            <li><strong>Geolocation Data</strong>: The physical location associated with this IP, which may be approximate based on network routing.</li>
                            <li><strong>Organization/ISP</strong>: The entity that owns or manages this IP address range.</li>
                        </ul>
                        <p>This information is valuable for network troubleshooting, security analysis, and understanding the source of network traffic.</p>
                    </div>
                    {% elif query_type == 'hostname' %}
                    <div class="results-content-item">
                        <h4>About Domain Information</h4>
                        <p>The domain you searched ({{ query }}) has revealed details about its registration, DNS configuration, and associated IP addresses. Here's what this information means:</p>
                        <ul>
                            <li><strong>WHOIS Data</strong>: Registration information including when the domain was created, when it expires, and (sometimes) who owns it.</li>
                            <li><strong>DNS Records</strong>: Configuration entries that control how the domain connects to services like websites, email, and other internet resources.</li>
                            <li><strong>IP Addresses</strong>: The numerical addresses where this domain's services are hosted.</li>
                        </ul>
                        <p>This information is useful for website ownership research, email configuration, and understanding a domain's technical setup.</p>
                    </div>
                    {% endif %}
                    
                    <div class="results-content-item">
                        <h4>How to Use This Data</h4>
                        <p>The information displayed above can be used in several ways:</p>
                        <ul>
                            <li><strong>For IT Professionals</strong>: Troubleshoot network issues, verify DNS configurations, or investigate security incidents.</li>
                            <li><strong>For Researchers</strong>: Gather technical information about online services or verify the authenticity of websites.</li>
                            <li><strong>For Business Users</strong>: Verify information about potential partners or check competitors' technical setups.</li>
                        </ul>
                        <p>You can download this data in CSV format using the download button, or copy specific sections using the copy buttons next to each section.</p>
                    </div>
                </div>
                {% endif %}
            </div>
        </main>
        
    </div>
    
    {% set active_page = 'results' %}
    {% include 'includes/footer.html' %}
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    
    <!-- Cookie Consent Banner -->
    <div class="cookie-consent" id="cookieConsent">
        <div class="cookie-text">
            <p>This detective agency uses digital tracking tools (cookies) to enhance your investigation experience. By accepting, you acknowledge our use of cookies for essential site functionality and analytics. Read our <a href="{{ url_for('privacy') }}">Privacy Policy</a> for more details on our investigative methods.</p>
        </div>
        <div class="cookie-buttons">
            <button class="cookie-btn cookie-accept" id="acceptCookies">Accept</button>
            <a href="{{ url_for('privacy') }}" class="cookie-btn cookie-learn">Learn More</a>
        </div>
    </div>
    
    <script>
        // Cookie Consent Management
        document.addEventListener('DOMContentLoaded', function() {
            const cookieConsent = document.getElementById('cookieConsent');
            const acceptCookies = document.getElementById('acceptCookies');
            
            // Check if user has already accepted cookies
            if (!localStorage.getItem('cookiesAccepted')) {
                // Show the cookie consent banner with a slight delay
                setTimeout(function() {
                    cookieConsent.classList.add('show');
                }, 1000);
            }
            
            // Handle accept button click
            acceptCookies.addEventListener('click', function() {
                localStorage.setItem('cookiesAccepted', 'true');
                cookieConsent.classList.remove('show');
            });
        });
    </script>
</body>
</html>
